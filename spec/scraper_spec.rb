# File created 6/9/2022 by Jake McCann
# File edited 6/10/2022 by Jake McCann
require_relative '../lib/scraper'

describe 'Scraper' do
  # Created 6/10/2022 by Jake McCann
  it 'returns array of all 4 desired content from courses_list_simple.html' do
    expected = Array.new 4, "<p>desired_content</p>"

    result = Scraper.scrape_courses(nil, IO.read("#{__dir__}/example_html/courses_list_simple.html"))

    expect(result == expected).to be_truthy
  end

  # Created 6/11/2022 by Jake McCann
  it 'returns array with both courses information from courses_list_real.html' do
    expected = Array.new 2
    expected[0] = "<h4 class=\"title\"><span class=\"title\">Introduction to Computing Technology</span> "\
                  "<span class=\"number\">(1110)</span></h4><p class=\"description\"><span class=\"label\">"\
                  "Description:</span> A course of general interest giving experience with personal computer software,"\
                  " e.g., word processors and spreadsheets; provides fundamental computer literacy; neither teaches nor"\
                  " requires programming.<br>Prereq: Not open to students with credit for 1111 or 1113. "\
                  "<span class=\"label\">Units:</span> 3</p><p class=\"subject\"><span class=\"label\">Subject: "\
                  "</span>Computer Science and Engineering</p>"
    expected[1] = "<h4 class=\"title\"><span class=\"title\">Introduction to Computer-Assisted Problem Solving</span>"\
                  " <span class=\"number\">(1111)</span></h4><p class=\"description\"><span class=\"label\">"\
                  "Description:</span> Problem solving techniques using productivity software; spreadsheets, formulas,"\
                  " conditional logic; relational databases, relational algebra; word processing; data presentation;"\
                  " graphics.<br>Prereq: Not open to students with credit for 1112 (105), 1113 (101), or 200. GE quant"\
                  " reason math and logical anly course. <span class=\"label\">Units:</span> 3</p>"\
                  "<p class=\"subject\"><span class=\"label\">Subject: </span>Computer Science and Engineering</p>"

    result = Scraper.scrape_courses(nil, IO.read("#{__dir__}/example_html/courses_list_real.html"))

    expect(result == expected).to be_truthy
  end

  # Created 6/11/2022 by Noah Moon
  it 'returns array with 1st course information from courses_list_real.html' do
    expected = Array.new
    expected[0] = "<h4 class=\"title\"><span class=\"title\">Introduction to Computing Technology</span> "\
                  "<span class=\"number\">(1110)</span></h4><p class=\"description\"><span class=\"label\">"\
                  "Description:</span> A course of general interest giving experience with personal computer software,"\
                  " e.g., word processors and spreadsheets; provides fundamental computer literacy; neither teaches nor"\
                  " requires programming.<br>Prereq: Not open to students with credit for 1111 or 1113. "\
                  "<span class=\"label\">Units:</span> 3</p><p class=\"subject\"><span class=\"label\">Subject: "\
                  "</span>Computer Science and Engineering</p>"

    regex = /class=['|"]number['|"]>\(1110\)<\/span>.*?.*/

    result = Scraper.scrape_courses(regex, IO.read("#{__dir__}/example_html/courses_list_real.html"))
    expect(result == expected).to be_truthy
  end

  # Created 6/11/2022 by Noah Moon
  it 'returns array with 2nd course information from courses_list_real.html' do
    expected = Array.new
    expected[0] = "<h4 class=\"title\"><span class=\"title\">Introduction to Computer-Assisted Problem Solving</span>"\
                  " <span class=\"number\">(1111)</span></h4><p class=\"description\"><span class=\"label\">"\
                  "Description:</span> Problem solving techniques using productivity software; spreadsheets, formulas,"\
                  " conditional logic; relational databases, relational algebra; word processing; data presentation;"\
                  " graphics.<br>Prereq: Not open to students with credit for 1112 (105), 1113 (101), or 200. GE quant"\
                  " reason math and logical anly course. <span class=\"label\">Units:</span> 3</p>"\
                  "<p class=\"subject\"><span class=\"label\">Subject: </span>Computer Science and Engineering</p>"

    regex = /class=['|"]number['|"]>\(1111\)<\/span>.*?.*/

    result = Scraper.scrape_courses(regex, IO.read("#{__dir__}/example_html/courses_list_real.html"))
    expect(result == expected).to be_truthy
  end

  # Created 6/11/2022 by Jake McCann
  it 'returns array with both courses information from courses_list_real.html by filters' do
    expected = Array.new 2
    expected[0] = "<h4 class=\"title\"><span class=\"title\">Introduction to Computing Technology</span> "\
                  "<span class=\"number\">(1110)</span></h4><p class=\"description\"><span class=\"label\">"\
                  "Description:</span> A course of general interest giving experience with personal computer software,"\
                  " e.g., word processors and spreadsheets; provides fundamental computer literacy; neither teaches nor"\
                  " requires programming.<br>Prereq: Not open to students with credit for 1111 or 1113. "\
                  "<span class=\"label\">Units:</span> 3</p><p class=\"subject\"><span class=\"label\">Subject: "\
                  "</span>Computer Science and Engineering</p>"
    expected[1] = "<h4 class=\"title\"><span class=\"title\">Introduction to Computer-Assisted Problem Solving</span>"\
                  " <span class=\"number\">(1111)</span></h4><p class=\"description\"><span class=\"label\">"\
                  "Description:</span> Problem solving techniques using productivity software; spreadsheets, formulas,"\
                  " conditional logic; relational databases, relational algebra; word processing; data presentation;"\
                  " graphics.<br>Prereq: Not open to students with credit for 1112 (105), 1113 (101), or 200. GE quant"\
                  " reason math and logical anly course. <span class=\"label\">Units:</span> 3</p>"\
                  "<p class=\"subject\"><span class=\"label\">Subject: </span>Computer Science and Engineering</p>"

    filter = /Units:<\/span> 3<\/p>.*?.*/
    result = Scraper.scrape_courses(filter, IO.read("#{__dir__}/example_html/courses_list_real.html"))

    expect(result == expected).to be_truthy
  end

  # Created 6/18/2022 by Noah Moon
  it 'returns array of size 2 according to section filters' do
    string = '[{"classNumber":"24868","section":"0005","component":"Lecture","instructionMode":"In Person","meetings":[{"meetingNumber":1,"facilityId":"DL0357","facilityType":"1B","facilityDescription":"Dreese Laboratories","facilityDescriptionShort":"Dreese Lab","facilityGroup":false,"facilityCapacity":46,"buildingCode":"279","room":"357","buildingDescription":"Dreese Lab 357","buildingDescriptionShort":"DL 357","startTime":"8:00 am","endTime":"8:55 am","startDate":"2022-01-10","endDate":"2022-04-25","monday":false,"tuesday":true,"wednesday":false,"thursday":true,"friday":false,"saturday":false,"sunday":false,"standingMeetingPattern":null,"instructors":[{"displayName":"Veronica Sarah Thai","role":"PI","email":"thai.53@osu.edu"}]}],"courseOfferingNumber":1,"courseId":"150505","academicGroup":"ENG","subject":"Computer Science & Engineering","catalogNumber":"2221","career":"UGRD","description":"SW 1: Components","enrollmentStatus":"Open","status":"A","type":"E","associatedClass":"5","autoEnrollWaitlist":true,"autoEnrollSection1":"0006","autoEnrollSection2":null,"consent":false,"waitlistCapacity":999,"minimumEnrollment":0,"enrollmentTotal":39,"waitlistTotal":0,"academicOrg":"D1435","location":"CS-COLMBUS","equivalentCourseId":null,"startDate":"2022-01-10","endDate":"2022-04-25","cancelDate":null,"primaryInstructorSection":"0005","combinedSection":null,"holidaySchedule":"OSUSIS","sessionCode":"1","sessionDescription":"Regular Academic Term","term":"Spring 2022","campus":"Columbus","attributes":[{"name":"CCP","value":"LEVEL 1","description":"Level 1 CCP course"},{"name":"EXAM","value":"DEPT","description":"EM test administered by department of instruction"}],"secCampus":"COL","secAcademicGroup":"ENG","secCatalogNumber":"2221","meetingDays":"","_parent":"150505-1-1222","subjectDesc":"Computer Science & Engineering","courseTitle":"Software I: Software Components","courseDescription":"Intellectual foundations of software engineering; design-by-contract principles; mathematical modeling of software functionality; component-based software from client perspective; layered data representation.\nPrereq: 1212, 1221, 1222, 1223, 1224, Engr 1221, 1281.01H, 1281.02H, or CSE Placement Level A. Prereq or concur: Math 1151, 1161.01, or 1161.02. Not open to students with credit for 5022. This course is available for EM credit.","catalogLevel":"2xxx","termCode":"1222"},{"classNumber":"24869","section":"0006","component":"Laboratory","instructionMode":"Online","meetings":[{"meetingNumber":1,"facilityId":"DL0280","facilityType":"2P","facilityDescription":"Dreese Laboratories","facilityDescriptionShort":"Dreese Lab","facilityGroup":false,"facilityCapacity":44,"buildingCode":"279","room":"280","buildingDescription":"Dreese Lab 280","buildingDescriptionShort":"DL 280","startTime":"8:00 am","endTime":"8:55 am","startDate":"2022-01-10","endDate":"2022-04-25","monday":false,"tuesday":false,"wednesday":true,"thursday":false,"friday":true,"saturday":false,"sunday":false,"standingMeetingPattern":null,"instructors":[{"displayName":"Veronica Sarah Thai","role":"GR","email":"thai.53@osu.edu"}]}],"courseOfferingNumber":1,"courseId":"150505","academicGroup":"ENG","subject":"Computer Science & Engineering","catalogNumber":"2221","career":"UGRD","description":"SW 1: Components","enrollmentStatus":"Open","status":"A","type":"E","associatedClass":"5","autoEnrollWaitlist":true,"autoEnrollSection1":"0006","autoEnrollSection2":null,"consent":false,"waitlistCapacity":999,"minimumEnrollment":0,"enrollmentTotal":39,"waitlistTotal":0,"academicOrg":"D1435","location":"CS-COLMBUS","equivalentCourseId":null,"startDate":"2022-01-10","endDate":"2022-04-25","cancelDate":null,"primaryInstructorSection":"0005","combinedSection":null,"holidaySchedule":"OSUSIS","sessionCode":"1","sessionDescription":"Regular Academic Term","term":"Spring 2022","campus":"Columbus","attributes":[{"name":"CCP","value":"LEVEL 1","description":"Level 1 CCP course"},{"name":"EXAM","value":"DEPT","description":"EM test administered by department of instruction"}],"secCampus":"COL","secAcademicGroup":"ENG","secCatalogNumber":"2221","meetingDays":"","_parent":"150505-1-1222","subjectDesc":"Computer Science & Engineering","courseTitle":"Software I: Software Components","courseDescription":"Intellectual foundations of software engineering; design-by-contract principles; mathematical modeling of software functionality; component-based software from client perspective; layered data representation.\nPrereq: 1212, 1221, 1222, 1223, 1224, Engr 1221, 1281.01H, 1281.02H, or CSE Placement Level A. Prereq or concur: Math 1151, 1161.01, or 1161.02. Not open to students with credit for 5022. This course is available for EM credit.","catalogLevel":"2xxx","termCode":"1222"},{"classNumber":"25430","section":"0007","component":"Lecture","instructionMode":"In Person","meetings":[{"meetingNumber":1,"facilityId":"DL0266","facilityType":"1B","facilityDescription":"Dreese Laboratories","facilityDescriptionShort":"Dreese Lab","facilityGroup":false,"facilityCapacity":40,"buildingCode":"279","room":"266","buildingDescription":"Dreese Lab 266","buildingDescriptionShort":"DL 266","startTime":"10:20 am","endTime":"11:15 am","startDate":"2022-01-10","endDate":"2022-04-25","monday":false,"tuesday":true,"wednesday":false,"thursday":true,"friday":false,"saturday":false,"sunday":false,"standingMeetingPattern":null,"instructors":[{"displayName":"Paul Sivilotti","role":"PI","email":"sivilotti.1@osu.edu"}]}],"courseOfferingNumber":1,"courseId":"150505","academicGroup":"ENG","subject":"Computer Science & Engineering","catalogNumber":"2221","career":"UGRD","description":"SW 1: Components","enrollmentStatus":"Open","status":"A","type":"E","associatedClass":"5","autoEnrollWaitlist":true,"autoEnrollSection1":"0006","autoEnrollSection2":null,"consent":false,"waitlistCapacity":999,"minimumEnrollment":0,"enrollmentTotal":39,"waitlistTotal":0,"academicOrg":"D1435","location":"CS-COLMBUS","equivalentCourseId":null,"startDate":"2022-01-10","endDate":"2022-04-25","cancelDate":null,"primaryInstructorSection":"0005","combinedSection":null,"holidaySchedule":"OSUSIS","sessionCode":"1","sessionDescription":"Regular Academic Term","term":"Spring 2022","campus":"Columbus","attributes":[{"name":"CCP","value":"LEVEL 1","description":"Level 1 CCP course"},{"name":"EXAM","value":"DEPT","description":"EM test administered by department of instruction"}],"secCampus":"COL","secAcademicGroup":"ENG","secCatalogNumber":"2221","meetingDays":"","_parent":"150505-1-1222","subjectDesc":"Computer Science & Engineering","courseTitle":"Software I: Software Components","courseDescription":"Intellectual foundations of software engineering; design-by-contract principles; mathematical modeling of software functionality; component-based software from client perspective; layered data representation.\nPrereq: 1212, 1221, 1222, 1223, 1224, Engr 1221, 1281.01H, 1281.02H, or CSE Placement Level A. Prereq or concur: Math 1151, 1161.01, or 1161.02. Not open to students with credit for 5022. This course is available for EM credit.","catalogLevel":"2xxx","termCode":"1222"},'
    expected = Array.new
    expected[0] = '"classNumber":"24868","section":"0005","component":"Lecture","instructionMode":"In Person","meetings":[{"meetingNumber":1,"facilityId":"DL0357","facilityType":"1B","facilityDescription":"Dreese Laboratories","facilityDescriptionShort":"Dreese Lab","facilityGroup":false,"facilityCapacity":46,"buildingCode":"279","room":"357","buildingDescription":"Dreese Lab 357","buildingDescriptionShort":"DL 357","startTime":"8:00 am","endTime":"8:55 am","startDate":"2022-01-10","endDate":"2022-04-25","monday":false,"tuesday":true,"wednesday":false,"thursday":true,"friday":false,"saturday":false,"sunday":false,"standingMeetingPattern":null,"instructors":[{"displayName":"Veronica Sarah Thai","role":"PI","email":"thai.53@osu.edu"}]}],"courseOfferingNumber":1,"courseId":"150505","academicGroup":"ENG","subject":"Computer Science & Engineering","catalogNumber":"2221","career":"UGRD","description":"SW 1: Components","enrollmentStatus":"Open","status":"A","type":"E","associatedClass":"5","autoEnrollWaitlist":true,"autoEnrollSection1":"0006","autoEnrollSection2":null,"consent":false,"waitlistCapacity":999,"minimumEnrollment":0,"enrollmentTotal":39,"waitlistTotal":0,"academicOrg":"D1435","location":"CS-COLMBUS","equivalentCourseId":null,"startDate":"2022-01-10","endDate":"2022-04-25","cancelDate":null,"primaryInstructorSection":"0005","combinedSection":null,"holidaySchedule":"OSUSIS","sessionCode":"1","sessionDescription":"Regular Academic Term","term":"Spring 2022","campus":"Columbus","attributes":[{"name":"CCP","value":"LEVEL 1","description":"Level 1 CCP course"},{"name":"EXAM","value":"DEPT","description":"EM test administered by department of instruction"}],"secCampus":"COL","secAcademicGroup":"ENG","secCatalogNumber":"2221","meetingDays":"","_parent":"150505-1-1222","subjectDesc":"Computer Science & Engineering","courseTitle":"Software I: Software Components","courseDescription":"Intellectual foundations of software engineering; design-by-contract principles; mathematical modeling of software functionality; component-based software from client perspective; layered data representation.\nPrereq: 1212, 1221, 1222, 1223, 1224, Engr 1221, 1281.01H, 1281.02H, or CSE Placement Level A. Prereq or concur: Math 1151, 1161.01, or 1161.02. Not open to students with credit for 5022. This course is available for EM credit.","catalogLevel":"2xxx","termCode"'
    expected[1] = '"classNumber":"25430","section":"0007","component":"Lecture","instructionMode":"In Person","meetings":[{"meetingNumber":1,"facilityId":"DL0266","facilityType":"1B","facilityDescription":"Dreese Laboratories","facilityDescriptionShort":"Dreese Lab","facilityGroup":false,"facilityCapacity":40,"buildingCode":"279","room":"266","buildingDescription":"Dreese Lab 266","buildingDescriptionShort":"DL 266","startTime":"10:20 am","endTime":"11:15 am","startDate":"2022-01-10","endDate":"2022-04-25","monday":false,"tuesday":true,"wednesday":false,"thursday":true,"friday":false,"saturday":false,"sunday":false,"standingMeetingPattern":null,"instructors":[{"displayName":"Paul Sivilotti","role":"PI","email":"sivilotti.1@osu.edu"}]}],"courseOfferingNumber":1,"courseId":"150505","academicGroup":"ENG","subject":"Computer Science & Engineering","catalogNumber":"2221","career":"UGRD","description":"SW 1: Components","enrollmentStatus":"Open","status":"A","type":"E","associatedClass":"5","autoEnrollWaitlist":true,"autoEnrollSection1":"0006","autoEnrollSection2":null,"consent":false,"waitlistCapacity":999,"minimumEnrollment":0,"enrollmentTotal":39,"waitlistTotal":0,"academicOrg":"D1435","location":"CS-COLMBUS","equivalentCourseId":null,"startDate":"2022-01-10","endDate":"2022-04-25","cancelDate":null,"primaryInstructorSection":"0005","combinedSection":null,"holidaySchedule":"OSUSIS","sessionCode":"1","sessionDescription":"Regular Academic Term","term":"Spring 2022","campus":"Columbus","attributes":[{"name":"CCP","value":"LEVEL 1","description":"Level 1 CCP course"},{"name":"EXAM","value":"DEPT","description":"EM test administered by department of instruction"}],"secCampus":"COL","secAcademicGroup":"ENG","secCatalogNumber":"2221","meetingDays":"","_parent":"150505-1-1222","subjectDesc":"Computer Science & Engineering","courseTitle":"Software I: Software Components","courseDescription":"Intellectual foundations of software engineering; design-by-contract principles; mathematical modeling of software functionality; component-based software from client perspective; layered data representation.\nPrereq: 1212, 1221, 1222, 1223, 1224, Engr 1221, 1281.01H, 1281.02H, or CSE Placement Level A. Prereq or concur: Math 1151, 1161.01, or 1161.02. Not open to students with credit for 5022. This course is available for EM credit.","catalogLevel":"2xxx","termCode"'
    filters = Regexp.new "\"classNumber\".*?\"instructionMode\":\"In Person\".*?\"termCode\""

    result = Scraper.scrape_sections filters, string
    expect(result == expected).to be_truthy
  end

  # Created 6/18/2022 by Noah Moon
  it 'returns array of all sections when no filters' do
    string = '[{"classNumber":"24868","section":"0005","component":"Lecture","instructionMode":"In Person","meetings":[{"meetingNumber":1,"facilityId":"DL0357","facilityType":"1B","facilityDescription":"Dreese Laboratories","facilityDescriptionShort":"Dreese Lab","facilityGroup":false,"facilityCapacity":46,"buildingCode":"279","room":"357","buildingDescription":"Dreese Lab 357","buildingDescriptionShort":"DL 357","startTime":"8:00 am","endTime":"8:55 am","startDate":"2022-01-10","endDate":"2022-04-25","monday":false,"tuesday":true,"wednesday":false,"thursday":true,"friday":false,"saturday":false,"sunday":false,"standingMeetingPattern":null,"instructors":[{"displayName":"Veronica Sarah Thai","role":"PI","email":"thai.53@osu.edu"}]}],"courseOfferingNumber":1,"courseId":"150505","academicGroup":"ENG","subject":"Computer Science & Engineering","catalogNumber":"2221","career":"UGRD","description":"SW 1: Components","enrollmentStatus":"Open","status":"A","type":"E","associatedClass":"5","autoEnrollWaitlist":true,"autoEnrollSection1":"0006","autoEnrollSection2":null,"consent":false,"waitlistCapacity":999,"minimumEnrollment":0,"enrollmentTotal":39,"waitlistTotal":0,"academicOrg":"D1435","location":"CS-COLMBUS","equivalentCourseId":null,"startDate":"2022-01-10","endDate":"2022-04-25","cancelDate":null,"primaryInstructorSection":"0005","combinedSection":null,"holidaySchedule":"OSUSIS","sessionCode":"1","sessionDescription":"Regular Academic Term","term":"Spring 2022","campus":"Columbus","attributes":[{"name":"CCP","value":"LEVEL 1","description":"Level 1 CCP course"},{"name":"EXAM","value":"DEPT","description":"EM test administered by department of instruction"}],"secCampus":"COL","secAcademicGroup":"ENG","secCatalogNumber":"2221","meetingDays":"","_parent":"150505-1-1222","subjectDesc":"Computer Science & Engineering","courseTitle":"Software I: Software Components","courseDescription":"Intellectual foundations of software engineering; design-by-contract principles; mathematical modeling of software functionality; component-based software from client perspective; layered data representation.\nPrereq: 1212, 1221, 1222, 1223, 1224, Engr 1221, 1281.01H, 1281.02H, or CSE Placement Level A. Prereq or concur: Math 1151, 1161.01, or 1161.02. Not open to students with credit for 5022. This course is available for EM credit.","catalogLevel":"2xxx","termCode":"1222"},{"classNumber":"24869","section":"0006","component":"Laboratory","instructionMode":"Online","meetings":[{"meetingNumber":1,"facilityId":"DL0280","facilityType":"2P","facilityDescription":"Dreese Laboratories","facilityDescriptionShort":"Dreese Lab","facilityGroup":false,"facilityCapacity":44,"buildingCode":"279","room":"280","buildingDescription":"Dreese Lab 280","buildingDescriptionShort":"DL 280","startTime":"8:00 am","endTime":"8:55 am","startDate":"2022-01-10","endDate":"2022-04-25","monday":false,"tuesday":false,"wednesday":true,"thursday":false,"friday":true,"saturday":false,"sunday":false,"standingMeetingPattern":null,"instructors":[{"displayName":"Veronica Sarah Thai","role":"GR","email":"thai.53@osu.edu"}]}],"courseOfferingNumber":1,"courseId":"150505","academicGroup":"ENG","subject":"Computer Science & Engineering","catalogNumber":"2221","career":"UGRD","description":"SW 1: Components","enrollmentStatus":"Open","status":"A","type":"E","associatedClass":"5","autoEnrollWaitlist":true,"autoEnrollSection1":"0006","autoEnrollSection2":null,"consent":false,"waitlistCapacity":999,"minimumEnrollment":0,"enrollmentTotal":39,"waitlistTotal":0,"academicOrg":"D1435","location":"CS-COLMBUS","equivalentCourseId":null,"startDate":"2022-01-10","endDate":"2022-04-25","cancelDate":null,"primaryInstructorSection":"0005","combinedSection":null,"holidaySchedule":"OSUSIS","sessionCode":"1","sessionDescription":"Regular Academic Term","term":"Spring 2022","campus":"Columbus","attributes":[{"name":"CCP","value":"LEVEL 1","description":"Level 1 CCP course"},{"name":"EXAM","value":"DEPT","description":"EM test administered by department of instruction"}],"secCampus":"COL","secAcademicGroup":"ENG","secCatalogNumber":"2221","meetingDays":"","_parent":"150505-1-1222","subjectDesc":"Computer Science & Engineering","courseTitle":"Software I: Software Components","courseDescription":"Intellectual foundations of software engineering; design-by-contract principles; mathematical modeling of software functionality; component-based software from client perspective; layered data representation.\nPrereq: 1212, 1221, 1222, 1223, 1224, Engr 1221, 1281.01H, 1281.02H, or CSE Placement Level A. Prereq or concur: Math 1151, 1161.01, or 1161.02. Not open to students with credit for 5022. This course is available for EM credit.","catalogLevel":"2xxx","termCode":"1222"},{"classNumber":"25430","section":"0007","component":"Lecture","instructionMode":"In Person","meetings":[{"meetingNumber":1,"facilityId":"DL0266","facilityType":"1B","facilityDescription":"Dreese Laboratories","facilityDescriptionShort":"Dreese Lab","facilityGroup":false,"facilityCapacity":40,"buildingCode":"279","room":"266","buildingDescription":"Dreese Lab 266","buildingDescriptionShort":"DL 266","startTime":"10:20 am","endTime":"11:15 am","startDate":"2022-01-10","endDate":"2022-04-25","monday":false,"tuesday":true,"wednesday":false,"thursday":true,"friday":false,"saturday":false,"sunday":false,"standingMeetingPattern":null,"instructors":[{"displayName":"Paul Sivilotti","role":"PI","email":"sivilotti.1@osu.edu"}]}],"courseOfferingNumber":1,"courseId":"150505","academicGroup":"ENG","subject":"Computer Science & Engineering","catalogNumber":"2221","career":"UGRD","description":"SW 1: Components","enrollmentStatus":"Open","status":"A","type":"E","associatedClass":"5","autoEnrollWaitlist":true,"autoEnrollSection1":"0006","autoEnrollSection2":null,"consent":false,"waitlistCapacity":999,"minimumEnrollment":0,"enrollmentTotal":39,"waitlistTotal":0,"academicOrg":"D1435","location":"CS-COLMBUS","equivalentCourseId":null,"startDate":"2022-01-10","endDate":"2022-04-25","cancelDate":null,"primaryInstructorSection":"0005","combinedSection":null,"holidaySchedule":"OSUSIS","sessionCode":"1","sessionDescription":"Regular Academic Term","term":"Spring 2022","campus":"Columbus","attributes":[{"name":"CCP","value":"LEVEL 1","description":"Level 1 CCP course"},{"name":"EXAM","value":"DEPT","description":"EM test administered by department of instruction"}],"secCampus":"COL","secAcademicGroup":"ENG","secCatalogNumber":"2221","meetingDays":"","_parent":"150505-1-1222","subjectDesc":"Computer Science & Engineering","courseTitle":"Software I: Software Components","courseDescription":"Intellectual foundations of software engineering; design-by-contract principles; mathematical modeling of software functionality; component-based software from client perspective; layered data representation.\nPrereq: 1212, 1221, 1222, 1223, 1224, Engr 1221, 1281.01H, 1281.02H, or CSE Placement Level A. Prereq or concur: Math 1151, 1161.01, or 1161.02. Not open to students with credit for 5022. This course is available for EM credit.","catalogLevel":"2xxx","termCode":"1222"},'
    expected = Array.new
    expected[0] = '"classNumber":"24868","section":"0005","component":"Lecture","instructionMode":"In Person","meetings":[{"meetingNumber":1,"facilityId":"DL0357","facilityType":"1B","facilityDescription":"Dreese Laboratories","facilityDescriptionShort":"Dreese Lab","facilityGroup":false,"facilityCapacity":46,"buildingCode":"279","room":"357","buildingDescription":"Dreese Lab 357","buildingDescriptionShort":"DL 357","startTime":"8:00 am","endTime":"8:55 am","startDate":"2022-01-10","endDate":"2022-04-25","monday":false,"tuesday":true,"wednesday":false,"thursday":true,"friday":false,"saturday":false,"sunday":false,"standingMeetingPattern":null,"instructors":[{"displayName":"Veronica Sarah Thai","role":"PI","email":"thai.53@osu.edu"}]}],"courseOfferingNumber":1,"courseId":"150505","academicGroup":"ENG","subject":"Computer Science & Engineering","catalogNumber":"2221","career":"UGRD","description":"SW 1: Components","enrollmentStatus":"Open","status":"A","type":"E","associatedClass":"5","autoEnrollWaitlist":true,"autoEnrollSection1":"0006","autoEnrollSection2":null,"consent":false,"waitlistCapacity":999,"minimumEnrollment":0,"enrollmentTotal":39,"waitlistTotal":0,"academicOrg":"D1435","location":"CS-COLMBUS","equivalentCourseId":null,"startDate":"2022-01-10","endDate":"2022-04-25","cancelDate":null,"primaryInstructorSection":"0005","combinedSection":null,"holidaySchedule":"OSUSIS","sessionCode":"1","sessionDescription":"Regular Academic Term","term":"Spring 2022","campus":"Columbus","attributes":[{"name":"CCP","value":"LEVEL 1","description":"Level 1 CCP course"},{"name":"EXAM","value":"DEPT","description":"EM test administered by department of instruction"}],"secCampus":"COL","secAcademicGroup":"ENG","secCatalogNumber":"2221","meetingDays":"","_parent":"150505-1-1222","subjectDesc":"Computer Science & Engineering","courseTitle":"Software I: Software Components","courseDescription":"Intellectual foundations of software engineering; design-by-contract principles; mathematical modeling of software functionality; component-based software from client perspective; layered data representation.\nPrereq: 1212, 1221, 1222, 1223, 1224, Engr 1221, 1281.01H, 1281.02H, or CSE Placement Level A. Prereq or concur: Math 1151, 1161.01, or 1161.02. Not open to students with credit for 5022. This course is available for EM credit.","catalogLevel":"2xxx","termCode"'
    expected[1] = '"classNumber":"24869","section":"0006","component":"Laboratory","instructionMode":"Online","meetings":[{"meetingNumber":1,"facilityId":"DL0280","facilityType":"2P","facilityDescription":"Dreese Laboratories","facilityDescriptionShort":"Dreese Lab","facilityGroup":false,"facilityCapacity":44,"buildingCode":"279","room":"280","buildingDescription":"Dreese Lab 280","buildingDescriptionShort":"DL 280","startTime":"8:00 am","endTime":"8:55 am","startDate":"2022-01-10","endDate":"2022-04-25","monday":false,"tuesday":false,"wednesday":true,"thursday":false,"friday":true,"saturday":false,"sunday":false,"standingMeetingPattern":null,"instructors":[{"displayName":"Veronica Sarah Thai","role":"GR","email":"thai.53@osu.edu"}]}],"courseOfferingNumber":1,"courseId":"150505","academicGroup":"ENG","subject":"Computer Science & Engineering","catalogNumber":"2221","career":"UGRD","description":"SW 1: Components","enrollmentStatus":"Open","status":"A","type":"E","associatedClass":"5","autoEnrollWaitlist":true,"autoEnrollSection1":"0006","autoEnrollSection2":null,"consent":false,"waitlistCapacity":999,"minimumEnrollment":0,"enrollmentTotal":39,"waitlistTotal":0,"academicOrg":"D1435","location":"CS-COLMBUS","equivalentCourseId":null,"startDate":"2022-01-10","endDate":"2022-04-25","cancelDate":null,"primaryInstructorSection":"0005","combinedSection":null,"holidaySchedule":"OSUSIS","sessionCode":"1","sessionDescription":"Regular Academic Term","term":"Spring 2022","campus":"Columbus","attributes":[{"name":"CCP","value":"LEVEL 1","description":"Level 1 CCP course"},{"name":"EXAM","value":"DEPT","description":"EM test administered by department of instruction"}],"secCampus":"COL","secAcademicGroup":"ENG","secCatalogNumber":"2221","meetingDays":"","_parent":"150505-1-1222","subjectDesc":"Computer Science & Engineering","courseTitle":"Software I: Software Components","courseDescription":"Intellectual foundations of software engineering; design-by-contract principles; mathematical modeling of software functionality; component-based software from client perspective; layered data representation.\nPrereq: 1212, 1221, 1222, 1223, 1224, Engr 1221, 1281.01H, 1281.02H, or CSE Placement Level A. Prereq or concur: Math 1151, 1161.01, or 1161.02. Not open to students with credit for 5022. This course is available for EM credit.","catalogLevel":"2xxx","termCode"'
    expected[2] = '"classNumber":"25430","section":"0007","component":"Lecture","instructionMode":"In Person","meetings":[{"meetingNumber":1,"facilityId":"DL0266","facilityType":"1B","facilityDescription":"Dreese Laboratories","facilityDescriptionShort":"Dreese Lab","facilityGroup":false,"facilityCapacity":40,"buildingCode":"279","room":"266","buildingDescription":"Dreese Lab 266","buildingDescriptionShort":"DL 266","startTime":"10:20 am","endTime":"11:15 am","startDate":"2022-01-10","endDate":"2022-04-25","monday":false,"tuesday":true,"wednesday":false,"thursday":true,"friday":false,"saturday":false,"sunday":false,"standingMeetingPattern":null,"instructors":[{"displayName":"Paul Sivilotti","role":"PI","email":"sivilotti.1@osu.edu"}]}],"courseOfferingNumber":1,"courseId":"150505","academicGroup":"ENG","subject":"Computer Science & Engineering","catalogNumber":"2221","career":"UGRD","description":"SW 1: Components","enrollmentStatus":"Open","status":"A","type":"E","associatedClass":"5","autoEnrollWaitlist":true,"autoEnrollSection1":"0006","autoEnrollSection2":null,"consent":false,"waitlistCapacity":999,"minimumEnrollment":0,"enrollmentTotal":39,"waitlistTotal":0,"academicOrg":"D1435","location":"CS-COLMBUS","equivalentCourseId":null,"startDate":"2022-01-10","endDate":"2022-04-25","cancelDate":null,"primaryInstructorSection":"0005","combinedSection":null,"holidaySchedule":"OSUSIS","sessionCode":"1","sessionDescription":"Regular Academic Term","term":"Spring 2022","campus":"Columbus","attributes":[{"name":"CCP","value":"LEVEL 1","description":"Level 1 CCP course"},{"name":"EXAM","value":"DEPT","description":"EM test administered by department of instruction"}],"secCampus":"COL","secAcademicGroup":"ENG","secCatalogNumber":"2221","meetingDays":"","_parent":"150505-1-1222","subjectDesc":"Computer Science & Engineering","courseTitle":"Software I: Software Components","courseDescription":"Intellectual foundations of software engineering; design-by-contract principles; mathematical modeling of software functionality; component-based software from client perspective; layered data representation.\nPrereq: 1212, 1221, 1222, 1223, 1224, Engr 1221, 1281.01H, 1281.02H, or CSE Placement Level A. Prereq or concur: Math 1151, 1161.01, or 1161.02. Not open to students with credit for 5022. This course is available for EM credit.","catalogLevel":"2xxx","termCode"'
    filters = nil

    result = Scraper.scrape_sections filters, string
    expect(result == expected).to be_truthy
  end

end